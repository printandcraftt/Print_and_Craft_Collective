<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Print & Craft ðŸ’œ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Poppins, Arial, sans-serif;
}

body{
  background:linear-gradient(135deg,#f3e8ff,#ffffff);
  color:#4b0082;
  text-align:center;
}

header{
  padding:50px 20px;
  background:linear-gradient(135deg,#6a00f4,#9d4edd);
  color:#fff;
}

section{
  padding:60px 20px;
}

input, textarea{
  padding:12px;
  width:260px;
  margin:8px;
  border-radius:12px;
  border:1px solid #ccc;
}

button{
  padding:12px 25px;
  background:#6a00f4;
  color:#fff;
  border:none;
  border-radius:25px;
  cursor:pointer;
  font-weight:bold;
  transition:.3s;
}

button:hover{
  background:#5200c9;
}

.star{
  font-size:28px;
  cursor:pointer;
  color:#ccc;
}

.star.active{
  color:gold;
}

.review-card{
  background:#fff;
  padding:15px;
  margin:15px auto;
  max-width:400px;
  border-radius:15px;
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
}

footer{
  padding:20px;
  font-size:14px;
  color:#777;
}
</style>
</head>

<body>

<header>
  <h1>ðŸ’œ Print & Craft ðŸ’œ</h1>
  <p>Handmade with Love</p>
</header>

<section>
  <h2>Leave Your Feedback ðŸ’Œ</h2>

  <input type="text" id="name" placeholder="Your Name"><br>

  <!-- STAR RATING -->
  <div id="starContainer">
    <span class="star" onclick="selectStar(1)">â˜…</span>
    <span class="star" onclick="selectStar(2)">â˜…</span>
    <span class="star" onclick="selectStar(3)">â˜…</span>
    <span class="star" onclick="selectStar(4)">â˜…</span>
    <span class="star" onclick="selectStar(5)">â˜…</span>
  </div>

  <textarea id="message" placeholder="Your Feedback"></textarea><br>

  <button onclick="addReview()">Submit Feedback</button>

  <h2 style="margin-top:50px;">Customer Reviews ðŸ’¬</h2>
  <div id="reviewList"></div>
</section>

<footer>
  Â© 2026 Print & Craft Collective ðŸ’œ
</footer>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs }
from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCCM6d565SLeJvZ0zCM5h8bkj5UzsBZeQcA",
  authDomain: "print-craft-9d708.firebaseapp.com",
  projectId: "print-craft-9d708",
  storageBucket: "print-craft-9d708.firebasestorage.app",
  messagingSenderId: "873230926106",
  appId: "1:873230926106:web:464e08d3ce7d111b6aeca3"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

let selectedRating = 0;

// SELECT STAR
window.selectStar = function(rating){
  selectedRating = rating;

  const stars = document.querySelectorAll(".star");
  stars.forEach((star,index)=>{
    star.classList.toggle("active", index < rating);
  });
}

// SAVE REVIEW
window.addReview = async function(){

  const name = document.getElementById("name").value;
  const message = document.getElementById("message").value;

  if(!name || !message || selectedRating === 0){
    alert("Please fill all fields and select star rating ðŸ’œ");
    return;
  }

  try{
    await addDoc(collection(db,"reviews"),{
      name:name,
      message:message,
      rating:selectedRating,
      created:new Date()
    });

    alert("Feedback submitted ðŸ’œ Thank you!");

    document.getElementById("name").value="";
    document.getElementById("message").value="";
    selectedRating=0;

    document.querySelectorAll(".star").forEach(star=>{
      star.classList.remove("active");
    });

    loadReviews();

  }catch(error){
    alert("Error saving review.");
    console.log(error);
  }
}

// LOAD REVIEWS
async function loadReviews(){

  const querySnapshot = await getDocs(collection(db,"reviews"));
  const reviewList = document.getElementById("reviewList");
  reviewList.innerHTML="";

  querySnapshot.forEach(doc=>{
    const data = doc.data();

    let stars="";
    for(let i=0;i<data.rating;i++){
      stars+="â˜…";
    }

    reviewList.innerHTML += `
      <div class="review-card">
        <div style="color:gold;font-size:18px;">${stars}</div>
        <b>${data.name}</b>
        <p>${data.message}</p>
      </div>
    `;
  });
}

loadReviews();

</script>

</body>
</html>
